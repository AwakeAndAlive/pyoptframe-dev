<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick start &mdash; optframe 4.3 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick start (Continued)" href="quickstart_continued.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/optframe-cut.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#welcome-message">Welcome Message</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-with-make">Build with make</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-with-bazel">Build with bazel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#first-example-0-1-knapsack-problem-and-simulated-annealing">First Example: 0-1 Knapsack Problem and Simulated Annealing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#solution-and-evaluation-types">Solution and Evaluation Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#problem-context">Problem Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="#random-constructive">Random Constructive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#evaluator">Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#neighborhood-structure">Neighborhood Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-to-test">Time to Test!</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#complete-example">Complete Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart_continued.html">Quick start (Continued)</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="fcore.html">FCore Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_checkmodule.html">Advanced - CheckModule</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">optframe</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Quick start</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quick-start">
<h1>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this headline"></a></h1>
<p>OptFrame is a C++ framework to solve challenging optimization problems, specially by means
of metaheuristic techniques.
It has no external dependencies, except a C++ compiler compatible with C++17 (or C++20).</p>
<p>After <a class="reference external" href="../install">installing</a> OptFrame (or just cloning it), user can start building
a solution to the problem at hand.</p>
<section id="welcome-message">
<h2>Welcome Message<a class="headerlink" href="#welcome-message" title="Permalink to this headline"></a></h2>
<p>A useful abstraction was introduced since OptFrame 4.1, called OptFrame Functional Core (FCore).
The idea of FCore is to provide a simplified access to OptFrame programming classes, by means
of closures and lambdas. This way, a project that typically had 8 to 10 files is reduced to a single
file (all included in headers!).</p>
<p>The first test on FCore is to see if it’s correctly compiling. So let’s just include its main header,
and print its <cite>welcome()</cite> message:</p>
<p><code class="code docutils literal notranslate"><span class="pre">File</span> <span class="pre">'mytest.cpp'</span> <span class="pre">located</span> <span class="pre">in</span> <span class="pre">'demo/01_QuickstartWelcome/'</span></code></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1">// file: &#39;mytest.cpp&#39;</span>
<span class="linenos">2</span><span class="cp">#include</span> <span class="cpf">&lt;OptFCore/FCore.hpp&gt;</span><span class="cp"></span>
<span class="linenos">3</span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos">4</span><span class="kt">int</span>
<span class="linenos">5</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">6</span><span class="p">{</span>
<span class="linenos">7</span>   <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">optframe</span><span class="o">::</span><span class="n">FCore</span><span class="o">::</span><span class="n">welcome</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">8</span>   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos">9</span><span class="p">}</span>
</pre></div>
</div>
<section id="build-with-make">
<h3>Build with make<a class="headerlink" href="#build-with-make" title="Permalink to this headline"></a></h3>
<p>One way to compile it locally is just copy src/ folder inside your project and see the results (using GCC C++ compiler):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">++</span> <span class="o">--</span><span class="n">std</span><span class="o">=</span><span class="n">c</span><span class="o">++</span><span class="mi">17</span> <span class="o">-</span><span class="n">fconcepts</span> <span class="n">mytest</span><span class="o">.</span><span class="n">cpp</span> <span class="o">-</span><span class="n">o</span> <span class="n">fcore_mytest</span>
<span class="o">./</span><span class="n">fcore_mytest</span>
<span class="c1"># Welcome to OptFrame Functional Core (FCore) - version 4.1-dev</span>
</pre></div>
</div>
<p>If a local copy of OptFrame is being used in other folder (via git clone), one needs to pass its location via flag <cite>-I</cite>
to the compiler (<em>considering relative location of ./optframe/src/</em>):</p>
<p><code class="code docutils literal notranslate"><span class="pre">File</span> <span class="pre">'makefile'</span> <span class="pre">located</span> <span class="pre">in</span> <span class="pre">'demo/01_QuickstartWelcome/'</span></code></p>
<div class="highlight-make notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="nf">all</span><span class="o">:</span> <span class="n">demo_quickstart_welcome</span> 
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="nf">demo_quickstart_welcome</span><span class="o">:</span>	
<span class="linenos"> 4</span>	g++ --std<span class="o">=</span>c++17 -fconcepts -I../../include mytest.cpp -o demo_welcome
<span class="linenos"> 5</span><span class="c">	# Expects: Welcome to OptFrame Functional Core (FCore) - version 4.1-dev</span>
<span class="linenos"> 6</span>	./demo_welcome
<span class="linenos"> 7</span>	
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="nf">build_with_bazel</span><span class="o">:</span>
<span class="linenos">10</span>	bazel build ... --cxxopt<span class="o">=</span>-std<span class="o">=</span>c++17
</pre></div>
</div>
</section>
<section id="build-with-bazel">
<h3>Build with bazel<a class="headerlink" href="#build-with-bazel" title="Permalink to this headline"></a></h3>
<p>If one wants to build in Windows or any other system, easiest manner is to use Bazel.
Just create a <em>WORKSPACE.bazel</em> file that points to remote OptFrame git repository:</p>
<p><code class="code docutils literal notranslate"><span class="pre">File</span> <span class="pre">'WORKSPACE.bazel'</span> <span class="pre">located</span> <span class="pre">in</span> <span class="pre">'demo/01_QuickstartWelcome/'</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;@bazel_tools//tools/build_defs/repo:git.bzl&#39;</span><span class="p">,</span> <span class="s1">&#39;git_repository&#39;</span><span class="p">)</span>
<span class="linenos">2</span><span class="n">git_repository</span><span class="p">(</span>
<span class="linenos">3</span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;OptFrame&#39;</span><span class="p">,</span>
<span class="linenos">4</span>    <span class="n">remote</span><span class="o">=</span><span class="s1">&#39;https://github.com/optframe/optframe.git&#39;</span><span class="p">,</span>
<span class="linenos">5</span>    <span class="n">branch</span><span class="o">=</span><span class="s1">&#39;master&#39;</span>
<span class="linenos">6</span><span class="p">)</span>
</pre></div>
</div>
<p>And use the following <em>BUILD.bazel</em> file (with dependency to &#64;OptFrame):</p>
<p><code class="code docutils literal notranslate"><span class="pre">File</span> <span class="pre">'BUILD.bazel'</span> <span class="pre">located</span> <span class="pre">in</span> <span class="pre">'demo/01_QuickstartWelcome/'</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;@rules_cc//cc:defs.bzl&quot;</span><span class="p">,</span> <span class="s2">&quot;cc_library&quot;</span><span class="p">,</span> <span class="s2">&quot;cc_binary&quot;</span><span class="p">)</span>
<span class="linenos">2</span><span class="n">cc_binary</span><span class="p">(</span>
<span class="linenos">3</span>    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;demo_welcome&quot;</span><span class="p">,</span>
<span class="linenos">4</span>    <span class="n">srcs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mytest.cpp&quot;</span><span class="p">],</span>
<span class="linenos">5</span>    <span class="n">deps</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;@OptFrame//src:OptFCore&quot;</span><span class="p">],</span>
<span class="linenos">6</span>    <span class="n">copts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--std=c++17&#39;</span><span class="p">,</span> <span class="s1">&#39;-fconcepts&#39;</span><span class="p">]</span>
<span class="linenos">7</span><span class="p">)</span>
</pre></div>
</div>
<p>Just invoke bazel build system (assuming MinGW C/C++ toolchain on Windows or just remove option <code class="code docutils literal notranslate"><span class="pre">--compiler</span></code> for Linux):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bazel</span> <span class="n">build</span> <span class="o">--</span><span class="n">compiler</span><span class="o">=</span><span class="n">mingw</span><span class="o">-</span><span class="n">gcc</span> <span class="o">...</span>
<span class="n">bazel</span> <span class="n">run</span> <span class="p">:</span><span class="n">demo_welcome</span>
<span class="c1"># Welcome to OptFrame Functional Core (FCore) - version 4.1-dev</span>
</pre></div>
</div>
<p>A deeper explanation of OptFrame theoretical foundations can be found on <a class="reference external" href="./concepts.html">Concepts</a>
section, so we will move fast here!</p>
</section>
</section>
<section id="first-example-0-1-knapsack-problem-and-simulated-annealing">
<h2>First Example: 0-1 Knapsack Problem and Simulated Annealing<a class="headerlink" href="#first-example-0-1-knapsack-problem-and-simulated-annealing" title="Permalink to this headline"></a></h2>
<p>Let’s consider a classic problem: the 0-1 Knapsack Problem (KP).</p>
<p><a class="reference internal" href="_images/Knapsack.svg"><img alt="A knapsack and some items (from wikipedia)" src="_images/Knapsack.svg" width="300" /></a>
By: Dake <a class="reference external" href="https://commons.wikimedia.org/wiki/File:Knapsack.svg">CC BY-SA 2.5</a></p>
<p>Given a set of items <span class="math notranslate nohighlight">\(I\)</span>, the KP consists in selecting some items <span class="math notranslate nohighlight">\(S \subseteq I\)</span>,
such that the sum of weights <span class="math notranslate nohighlight">\(w_i\)</span> (for each selected item) do not exceed knapsack
capacity <span class="math notranslate nohighlight">\(Q\)</span>, and profit <span class="math notranslate nohighlight">\(p_i\)</span> of the selected items is maximized.</p>
<p>$$maximize\; \sum_{i \in S} p_i$$
$$\sum_{i \in S} w_i \leq Q$$
$$S \subseteq I$$</p>
<section id="solution-and-evaluation-types">
<h3>Solution and Evaluation Types<a class="headerlink" href="#solution-and-evaluation-types" title="Permalink to this headline"></a></h3>
<p>Users must first define a <em>Representation</em>, which is a data structure that represents
an element in the <em>Solution Space</em> for the KP. A natural candidate here is an <em>array of booleans</em>,
since we need to decide if we are going to carry each item or not. In C++, an interesting
approach is to use stl containers, such as a <code class="code cppcode cpp docutils literal notranslate"><span class="name"><span class="pre">std</span></span><span class="operator"><span class="pre">::</span></span><span class="name"><span class="pre">vector</span></span><span class="operator"><span class="pre">&lt;</span></span><span class="keyword type"><span class="pre">int</span></span><span class="operator"><span class="pre">&gt;</span></span></code>.</p>
<p>User also needs to specify the data type for the <em>Objective Space</em>, in general a numeric type.
In this case, we will simply choose
an <code class="code cppcode cpp docutils literal notranslate"><span class="name"><span class="pre">Evaluation</span></span><span class="operator"><span class="pre">&lt;</span></span><span class="keyword type"><span class="pre">int</span></span><span class="operator"><span class="pre">&gt;</span></span></code> (just ignore the <em>Evaluation</em> container for now…).</p>
<p>We declare a <a class="reference external" href="./concepts.html">XESolution</a> pair that aggregates both spaces as a single
type <code class="code docutils literal notranslate"><span class="pre">ESolutionKP</span></code> (meaning an <em>evaluated solution for the knapsack problem</em>):</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// OptFrame Demo 0-1 Knapsack Problem + Simulated Annealing</span>
<span class="linenos"> 2</span><span class="c1">// File: KP-fcore-ex.hpp</span>
<span class="linenos"> 3</span><span class="cp">#pragma once</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="cp">#include</span> <span class="cpf">&lt;OptFCore/FCore.hpp&gt;</span><span class="cp"></span>
<span class="linenos"> 6</span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 7</span><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp"></span>
<span class="linenos">10</span><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp"></span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/Core.hpp&gt;</span><span class="cp"></span>
<span class="linenos">13</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/Heuristics/Heuristics.hpp&gt;</span><span class="c1"> // many metaheuristics here...</span><span class="cp"></span>
<span class="linenos">14</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/Scanner++/Scanner.hpp&gt;</span><span class="cp"></span>
<span class="linenos">15</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/Util/Matrix.hpp&gt;</span><span class="cp"></span>
<span class="linenos">16</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/printable/printable.hpp&gt;</span><span class="cp"></span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="linenos">19</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">optframe</span><span class="p">;</span>
<span class="linenos">20</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">scannerpp</span><span class="p">;</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="c1">// namespace para o problema da mochila</span>
<span class="linenos">23</span><span class="c1">// namespace KP_fcore {</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="c1">// Solução para o problema da mochila, e elemento de avaliação</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="c1">// ================================</span>
<span class="linenos">28</span><span class="c1">//    Definição do &#39;ESolution&#39;</span>
<span class="linenos">29</span><span class="c1">// Par: (Representação, Avaliação)</span>
<span class="linenos">30</span><span class="c1">// ================================</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="k">using</span> <span class="n">ESolutionKP</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span>
<span class="linenos">33</span>  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">,</span> <span class="c1">// (representation)</span>
<span class="linenos">34</span>  <span class="n">Evaluation</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span>    <span class="c1">// (objective value)</span>
<span class="linenos">35</span>  <span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>As long as fields <code class="code docutils literal notranslate"><span class="pre">first</span></code> and <code class="code docutils literal notranslate"><span class="pre">second</span></code> are provided on XESolution concept, any class can
be used instead of <code class="code docutils literal notranslate"><span class="pre">std::pair</span></code>, as demonstrated on <a class="reference external" href="./advanced.html#explicit-xesolution">Explicit XESolution</a>
section.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Since OptFrame v4, any data structure can be used as a <em>solution representation</em>, as long as it implements <code class="code docutils literal notranslate"><span class="pre">operator&lt;&lt;</span></code>.
OptFrame Classic (&lt;= v3) required a templated class named <code class="code docutils literal notranslate"><span class="pre">Solution&lt;R,ADS&gt;</span></code>, passing both
a <em>representation</em> type <code class="code docutils literal notranslate"><span class="pre">R</span></code> and <em>auxiliary data structure</em> type <code class="code docutils literal notranslate"><span class="pre">ADS</span></code>. This is no longer mandatory, but still widely
used on the available examples.</p>
</div>
</section>
<section id="problem-context">
<h3>Problem Context<a class="headerlink" href="#problem-context" title="Permalink to this headline"></a></h3>
<p>Users will need to store general problem information (such as profits and weights of items),
so a <em>ProblemContext</em> can be introduced.
For easy interoperability with file and string inputs (on Linux/Windows), we use <em>Scanner</em> class
to process problem data (some details of ‘load’ function will only be discussed in a later moment):</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">class</span> <span class="nc">ProblemContext</span>
<span class="linenos"> 2</span><span class="p">{</span>
<span class="linenos"> 3</span><span class="k">public</span><span class="o">:</span>
<span class="linenos"> 4</span>   <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>         <span class="c1">// numero de itens</span>
<span class="linenos"> 5</span>   <span class="kt">int</span> <span class="n">Q</span><span class="p">;</span>         <span class="c1">// capacidade máxima da mochila</span>
<span class="linenos"> 6</span>   <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">;</span> <span class="c1">// lucro &#39;p&#39; de cada item</span>
<span class="linenos"> 7</span>   <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">w</span><span class="p">;</span> <span class="c1">// peso &#39;w&#39; de cada item</span>
<span class="linenos"> 8</span>   <span class="c1">//</span>
<span class="linenos"> 9</span>   <span class="c1">// leitor de dados &quot;estilo Java&quot; (Scanner)</span>
<span class="linenos">10</span>   <span class="kt">void</span> <span class="nf">load</span><span class="p">(</span><span class="n">Scanner</span><span class="o">&amp;</span> <span class="n">scanner</span><span class="p">)</span>
<span class="linenos">11</span>   <span class="p">{</span>
<span class="linenos">12</span>      <span class="n">n</span> <span class="o">=</span> <span class="o">*</span><span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// leitura do numero de itens na mochila</span>
<span class="linenos">13</span>      <span class="n">Q</span> <span class="o">=</span> <span class="o">*</span><span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// leitura da capacidade da mochila</span>
<span class="linenos">14</span>      <span class="n">p</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>     <span class="c1">// realoca espaço</span>
<span class="linenos">15</span>      <span class="n">w</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>     <span class="c1">// realoca espaço</span>
<span class="linenos">16</span>      <span class="c1">//</span>
<span class="linenos">17</span>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;n=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; Q=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">Q</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="linenos">18</span>      <span class="c1">//</span>
<span class="linenos">19</span>      <span class="c1">// leitura do lucro do item i</span>
<span class="linenos">20</span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">21</span>         <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">*</span><span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// &#39;*&#39; é usado pq saída do &#39;nextInt&#39; é &#39;optional&#39;</span>
<span class="linenos">22</span>         <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;p[&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="linenos">23</span>      <span class="p">}</span>
<span class="linenos">24</span>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="linenos">25</span>      <span class="c1">//</span>
<span class="linenos">26</span>      <span class="c1">// leitura do peso do item i</span>
<span class="linenos">27</span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos">28</span>         <span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">*</span><span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// &#39;*&#39; é usado pq saída do &#39;nextInt&#39; é &#39;optional&#39;</span>
<span class="linenos">29</span>         <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;w[&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="linenos">30</span>      <span class="p">}</span>
<span class="linenos">31</span>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="linenos">32</span>   <span class="p">}</span>
<span class="linenos">33</span><span class="p">};</span>
<span class="linenos">34</span><span class="c1">// Instanciar um problema da mochila pKP</span>
<span class="linenos">35</span><span class="n">ProblemContext</span> <span class="n">pKP</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>ProblemContext is a user-defined class that can have any desired format. A ‘load’ function
is just a suggestion, but not at all necessary. The object <code class="code docutils literal notranslate"><span class="pre">pKP</span></code> is declared in global scope
just to simplify the example, but it could be embedded in any other component if user desires.</p>
</div>
</section>
<section id="random-constructive">
<h3>Random Constructive<a class="headerlink" href="#random-constructive" title="Permalink to this headline"></a></h3>
<p>We need to have some initial solution for the search process, so we just proceed in a random manner.
For simplicity, we allow infeasible solutions to be generated (as if capacity was infinite).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span>
<span class="linenos"> 2</span><span class="n">frandom</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="p">{</span>
<span class="linenos"> 4</span>   <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="n">pKP</span><span class="p">.</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span> <span class="c1">// começa sem nenhum item escolhido</span>
<span class="linenos"> 5</span>   <span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="linenos"> 6</span>      <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// sorteia se leva item ou não (resultado 0 ou 1)</span>
<span class="linenos"> 7</span>   <span class="c1">// retorna solução</span>
<span class="linenos"> 8</span>   <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="p">}</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="c1">// Gerador de solução inicial (método construtivo)</span>
<span class="linenos">12</span><span class="n">FConstructive</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">randomConstructive</span><span class="p">{</span> <span class="n">frandom</span> <span class="p">};</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>User can also define many advanced constructive techniques in a similar manner, such as greedy
and greedy randomized approaches.</p>
</div>
</section>
<section id="evaluator">
<h3>Evaluator<a class="headerlink" href="#evaluator" title="Permalink to this headline"></a></h3>
<p>Now it’s time to define an evaluation (or objective) function. According to the goal of
maximizing the profits, we iterate over selected items to accumulate profit and weights.
As discussed in constructive section, we allow accumulated weight to surpass knapsack capacity,
for infeasible configurations.
To discourage that, we introduce negative penalization whenever capacity is exceeded (assuming weight -1000000):</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// ===========================</span>
<span class="linenos"> 2</span><span class="c1">//    Função de avaliação</span>
<span class="linenos"> 3</span><span class="c1">// ===========================</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1">// função de avaliação da mochila</span>
<span class="linenos"> 6</span><span class="n">Evaluation</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span>
<span class="linenos"> 7</span><span class="n">fevaluate</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">s</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="p">{</span>
<span class="linenos"> 9</span>   <span class="kt">int</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos">10</span>   <span class="kt">int</span> <span class="n">somaPeso</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos">11</span>   <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">pKP</span><span class="p">.</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="linenos">12</span>      <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1">// se elemento foi escolhido</span>
<span class="linenos">13</span>      <span class="p">{</span>
<span class="linenos">14</span>         <span class="n">f</span> <span class="o">+=</span> <span class="n">pKP</span><span class="p">.</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>        <span class="c1">// acumula lucro do elemento i</span>
<span class="linenos">15</span>         <span class="n">somaPeso</span> <span class="o">+=</span> <span class="n">pKP</span><span class="p">.</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="c1">// acumula peso do elemento i</span>
<span class="linenos">16</span>      <span class="p">}</span>
<span class="linenos">17</span>   <span class="c1">// verifica capacidade excedida</span>
<span class="linenos">18</span>   <span class="k">if</span> <span class="p">(</span><span class="n">somaPeso</span> <span class="o">&gt;=</span> <span class="n">pKP</span><span class="p">.</span><span class="n">Q</span><span class="p">)</span>
<span class="linenos">19</span>      <span class="n">f</span> <span class="o">-=</span> <span class="mi">1000000</span> <span class="o">*</span> <span class="p">(</span><span class="n">somaPeso</span> <span class="o">-</span> <span class="n">pKP</span><span class="p">.</span><span class="n">Q</span><span class="p">);</span> <span class="c1">// punição proporcional ao excesso de peso</span>
<span class="linenos">20</span>   <span class="c1">//</span>
<span class="linenos">21</span>   <span class="k">return</span> <span class="n">Evaluation</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">{</span> <span class="n">f</span> <span class="p">};</span>
<span class="linenos">22</span><span class="p">}</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="c1">// Evaluate (false -&gt; maximização)</span>
<span class="linenos">25</span><span class="n">FEvaluator</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="p">,</span> <span class="n">MAXIMIZE</span><span class="o">&gt;</span> <span class="n">evalKP</span><span class="p">{</span> <span class="n">fevaluate</span> <span class="p">};</span>
</pre></div>
</div>
<p>We have defined <code class="code docutils literal notranslate"><span class="pre">fevaluate</span></code> function to create an <code class="code docutils literal notranslate"><span class="pre">Evaluator</span></code> object named <code class="code docutils literal notranslate"><span class="pre">evalKP</span></code>,
in a <code class="code docutils literal notranslate"><span class="pre">MAXIMIZE</span></code> direction.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>User can choose <code class="code docutils literal notranslate"><span class="pre">MINIMIZE</span></code> if dealing with a minimization problem. For multi-objective
problems and Pareto optimization, user should visit <a class="reference external" href="./advanced.html#multi-objective">Multi-Objective</a> section.</p>
</div>
</section>
<section id="neighborhood-structure">
<h3>Neighborhood Structure<a class="headerlink" href="#neighborhood-structure" title="Permalink to this headline"></a></h3>
<p>In order to improve a given solution, several metaheuristics employ <a class="reference external" href="https://en.wikipedia.org/wiki/Local_search_(optimization)">Local Search Optimization</a>
techniques based on the concept of Neighborhood Structure.
Every neighborhood is related to a move operator, which is required (on FCore) to have an undo operation (capable of reverting the effects of the move).</p>
<p>We create a <code class="code docutils literal notranslate"><span class="pre">BitFlip</span></code> move, that changes the <code class="code docutils literal notranslate"><span class="pre">true/false</span></code> selection of a given item <span class="math notranslate nohighlight">\(k\)</span>.
In this case, the <cite>move structure</cite> (representation of the move) is just an <code class="code docutils literal notranslate"><span class="pre">int</span></code>, that represents the flipped item.</p>
<p>Note the <code class="code docutils literal notranslate"><span class="pre">makeMoveBitFlip</span></code> move generator based on FCore library.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// MoveBitFlip (moveData = &#39;int&#39; (k))</span>
<span class="linenos"> 2</span><span class="k">using</span> <span class="n">MoveBitFlip</span> <span class="o">=</span> <span class="n">FMove</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">ESolutionKP</span><span class="o">&gt;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1">// vizinhança: operador de &quot;movimento&quot; que faz &quot;bit flip&quot; (0 -&gt; 1; 1 -&gt; 0) na posição k</span>
<span class="linenos"> 5</span><span class="kt">int</span>
<span class="linenos"> 6</span><span class="nf">fApplyFlip</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">k</span><span class="p">,</span> <span class="n">ESolutionKP</span><span class="o">&amp;</span> <span class="n">se</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="p">{</span>
<span class="linenos"> 8</span>   <span class="c1">//se.first[k] = 1 - se.first[k]; // inverte elemento &#39;k&#39;</span>
<span class="linenos"> 9</span>   <span class="n">se</span><span class="p">.</span><span class="n">first</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="o">!</span><span class="n">se</span><span class="p">.</span><span class="n">first</span><span class="p">[</span><span class="n">k</span><span class="p">];</span> <span class="c1">// inverte elemento &#39;k&#39;</span>
<span class="linenos">10</span>   <span class="k">return</span> <span class="n">k</span><span class="p">;</span>                   <span class="c1">// movimento reverso</span>
<span class="linenos">11</span><span class="p">}</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span>
<span class="linenos">14</span><span class="n">makeMoveBitFlip</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">)</span>
<span class="linenos">15</span><span class="p">{</span>
<span class="linenos">16</span>   <span class="k">return</span> <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="k">new</span> <span class="n">MoveBitFlip</span><span class="p">{</span> <span class="n">k</span><span class="p">,</span> <span class="n">fApplyFlip</span> <span class="p">});</span>
<span class="linenos">17</span><span class="p">}</span>
</pre></div>
</div>
<p>The definition of the move can be done using inheritance, if one finds easier (which is what we will adopt).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">//</span>
<span class="linenos"> 2</span><span class="k">class</span> <span class="nc">MoveBitFlip</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;</span>
<span class="linenos"> 3</span><span class="p">{</span>
<span class="linenos"> 4</span><span class="k">public</span><span class="o">:</span>
<span class="linenos"> 5</span>   <span class="kt">int</span> <span class="n">k</span><span class="p">;</span> <span class="c1">// MoveBitFlip (moveData = &#39;int&#39; (k))</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>   <span class="n">MoveBitFlip</span><span class="p">(</span><span class="kt">int</span> <span class="n">_k</span><span class="p">)</span>
<span class="linenos"> 8</span>     <span class="o">:</span> <span class="n">k</span><span class="p">{</span> <span class="n">_k</span> <span class="p">}</span>
<span class="linenos"> 9</span>   <span class="p">{</span>
<span class="linenos">10</span>   <span class="p">}</span>
<span class="linenos">11</span>
<span class="linenos">12</span>   <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span> <span class="n">apply</span><span class="p">(</span><span class="n">ESolutionKP</span><span class="o">&amp;</span> <span class="n">se</span><span class="p">)</span> <span class="k">override</span>
<span class="linenos">13</span>   <span class="p">{</span>
<span class="linenos">14</span>      <span class="n">se</span><span class="p">.</span><span class="n">first</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="o">!</span><span class="n">se</span><span class="p">.</span><span class="n">first</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>                           <span class="c1">// reverts element &#39;k&#39;</span>
<span class="linenos">15</span>      <span class="k">return</span> <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="k">new</span> <span class="n">MoveBitFlip</span><span class="p">{</span> <span class="n">k</span> <span class="p">});</span> <span class="c1">// returns reverse move</span>
<span class="linenos">16</span>   <span class="p">}</span>
<span class="linenos">17</span><span class="p">};</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span>
<span class="linenos">20</span><span class="n">makeMoveBitFlip</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">)</span>
<span class="linenos">21</span><span class="p">{</span>
<span class="linenos">22</span>   <span class="k">return</span> <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="k">new</span> <span class="n">MoveBitFlip</span><span class="p">{</span> <span class="n">k</span> <span class="p">});</span>
<span class="linenos">23</span><span class="p">}</span>
</pre></div>
</div>
<p>Now, it’s time to define a neighborhood generator for the move.
OptFrame has three main types of neighborhoods: <code class="code docutils literal notranslate"><span class="pre">NS</span></code>, <code class="code docutils literal notranslate"><span class="pre">NSSeq</span></code> and <code class="code docutils literal notranslate"><span class="pre">NSEnum</span></code>.</p>
<p>In this example, we will use <code class="code docutils literal notranslate"><span class="pre">NS</span></code>, since it only requires the generation of random moves:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// gerador de movimentos aleatórios do tipo BitFlip</span>
<span class="linenos"> 2</span><span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span>
<span class="linenos"> 3</span><span class="n">fRandomFlip</span><span class="p">(</span><span class="k">const</span> <span class="n">ESolutionKP</span><span class="o">&amp;</span> <span class="n">se</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="p">{</span>
<span class="linenos"> 5</span>   <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="o">::</span><span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="n">pKP</span><span class="p">.</span><span class="n">n</span><span class="p">;</span> <span class="c1">// sorteia um item entre [0..n-1]</span>
<span class="linenos"> 6</span>   <span class="c1">// cria um &quot;movimento&quot; de flip, na posição k, com operação &#39;fApplyFlip&#39;</span>
<span class="linenos"> 7</span>   <span class="k">return</span> <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">makeMoveBitFlip</span><span class="p">(</span><span class="n">k</span><span class="p">));</span>
<span class="linenos"> 8</span><span class="p">}</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c1">// Estrutura de Vizinhança para BitFlip (NS)</span>
<span class="linenos">11</span><span class="n">FNS</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;</span> <span class="n">nsFlip</span><span class="p">{</span> <span class="n">fRandomFlip</span> <span class="p">};</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>It is usually a good idea to start developing over the simplest neighborhood, which is <code class="code docutils literal notranslate"><span class="pre">NS</span></code>.
Most (non-deterministic) metaheuristics only requires a <code class="code docutils literal notranslate"><span class="pre">NS</span></code>, as it only requires the generation of random moves.
More advanced neighborhoods based on iterators, such as <code class="code docutils literal notranslate"><span class="pre">NSSeq</span></code> and <code class="code docutils literal notranslate"><span class="pre">NSEnum</span></code> are only required for advanced <a class="reference external" href="./advanced.html#local-search">Local Search</a> methods.</p>
</div>
</section>
<section id="time-to-test">
<h3>Time to Test!<a class="headerlink" href="#time-to-test" title="Permalink to this headline"></a></h3>
<p>At this point, you can already test many nice metaheuristics and solve your knapsack problem!
We use the following code to load a problem instance (see <a class="reference internal" href="#complete-example">Complete Example</a> after):</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Carregando Problema ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// semente pseudo-aleatória fixa em zero</span>
<span class="linenos"> 3</span><span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">sinstance</span> <span class="o">=</span> <span class="s">&quot;knapsack-example.txt&quot;</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="n">File</span> <span class="n">f</span><span class="p">{</span> <span class="n">sinstance</span> <span class="p">};</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">f</span><span class="p">.</span><span class="n">isOpen</span><span class="p">())</span> <span class="p">{</span>
<span class="linenos"> 9</span>   <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Problema &#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">sinstance</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;&#39; não encontrado no diretório!&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">10</span>   <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="linenos">11</span><span class="p">}</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="n">Scanner</span> <span class="n">scanner</span><span class="p">{</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">};</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="n">pKP</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">scanner</span><span class="p">);</span>
<span class="linenos">16</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;número de elementos na mochila:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">pKP</span><span class="p">.</span><span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>It is useful to test every FCore structure independently, so as to develop unit testing for them.</p>
</div>
<p>To test the constructive and evaluator:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Testa Construtivo Aleatório ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// invoca método &#39;generateSolution&#39; do FCore &#39;FConstructive&#39; para construtivo aleatório</span>
<span class="linenos"> 3</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">sol</span> <span class="o">=</span> <span class="o">*</span><span class="n">randomConstructive</span><span class="p">.</span><span class="n">generateSolution</span><span class="p">(</span><span class="mf">0.0</span><span class="p">);</span>
<span class="linenos"> 4</span><span class="c1">// imprime solução inicial</span>
<span class="linenos"> 5</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sol</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="c1">//</span>
<span class="linenos"> 7</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Testa Avaliador ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="c1">// avalia solução inicial e cria um par &#39;ESolution&#39;</span>
<span class="linenos"> 9</span><span class="n">ESolutionKP</span> <span class="nf">esol</span><span class="p">(</span><span class="n">sol</span><span class="p">,</span> <span class="n">evalKP</span><span class="p">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">sol</span><span class="p">));</span>
<span class="linenos">10</span><span class="c1">// imprime avaliação da solução inicial</span>
<span class="linenos">11</span><span class="n">esol</span><span class="p">.</span><span class="n">second</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
</pre></div>
</div>
<p>Now we give an example with of the most well-known metaheuristics: the <a class="reference external" href="https://en.wikipedia.org/wiki/Simulated_annealing">Simulated Annealing</a>.
It has few parameters, including: initial temperature <code class="code docutils literal notranslate"><span class="pre">T0</span></code>, cooling factor <code class="code docutils literal notranslate"><span class="pre">alpha</span></code>, and iterations per temperature <code class="code docutils literal notranslate"><span class="pre">iterT</span></code>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Executa Simulated Annealing ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="c1">// Especifica um gerador aleatório para o Simulated Annealing</span>
<span class="linenos"> 3</span><span class="n">RandGen</span> <span class="n">rg</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="c1">//</span>
<span class="linenos"> 5</span><span class="c1">// Cria objeto da classe &#39;InitialSearch&#39; (parecido com &#39;construtivoAleatório&#39;)</span>
<span class="linenos"> 6</span><span class="n">BasicInitialSearch</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;</span> <span class="n">initRand</span><span class="p">(</span><span class="n">randomConstructive</span><span class="p">,</span> <span class="n">evalKP</span><span class="p">);</span>
<span class="linenos"> 7</span><span class="c1">// Instancia um Simulated Annealing com alpha=98%, iterações na temp = 100, temperatura inicial = 99999</span>
<span class="linenos"> 8</span><span class="n">BasicSimulatedAnnealing</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;</span> <span class="n">sa</span><span class="p">{</span>
<span class="linenos"> 9</span>   <span class="n">evalKP</span><span class="p">,</span>
<span class="linenos">10</span>   <span class="n">initRand</span><span class="p">,</span>
<span class="linenos">11</span>   <span class="n">nsFlip</span><span class="p">,</span>
<span class="linenos">12</span>   <span class="mf">0.98</span><span class="p">,</span>
<span class="linenos">13</span>   <span class="mi">100</span><span class="p">,</span>
<span class="linenos">14</span>   <span class="mi">99999</span><span class="p">,</span>
<span class="linenos">15</span>   <span class="n">rg</span>
<span class="linenos">16</span><span class="p">};</span>
<span class="linenos">17</span><span class="c1">// executa o SA e coleta o &#39;status&#39; de saída</span>
<span class="linenos">18</span><span class="c1">// passa um &#39;Criterio de Parada&#39; por tempo (= 10 segundos)</span>
<span class="linenos">19</span><span class="k">auto</span> <span class="n">searchOut</span> <span class="o">=</span> <span class="n">sa</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">StopCriteria</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">::</span><span class="n">second_type</span><span class="o">&gt;</span><span class="p">{</span> <span class="mf">10.0</span> <span class="p">});</span> <span class="c1">// 10.0 seconds max</span>
<span class="linenos">20</span><span class="c1">// pega melhor solução do método SA</span>
<span class="linenos">21</span><span class="n">ESolutionKP</span> <span class="n">melhor</span> <span class="o">=</span> <span class="o">*</span><span class="n">searchOut</span><span class="p">.</span><span class="n">best</span><span class="p">;</span> <span class="c1">//*sa.getBestSolution();</span>
<span class="linenos">22</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Imprime melhor solução do SA ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">23</span><span class="c1">// imprime representação da melhor solução</span>
<span class="linenos">24</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">melhor</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="linenos">25</span><span class="c1">// imprime avaliação da melhor solução</span>
<span class="linenos">26</span><span class="n">melhor</span><span class="p">.</span><span class="n">second</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
</pre></div>
</div>
</section>
</section>
<section id="complete-example">
<h2>Complete Example<a class="headerlink" href="#complete-example" title="Permalink to this headline"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We present a complete example below. Note that some small differences may exist due to updates in tutorial, including language details.
Feel free to check folder <code class="code docutils literal notranslate"><span class="pre">OptFrame/Examples</span></code> for other examples on FCore and OptFrame Classic.</p>
</div>
<p>Example is divided in two files: <code class="code docutils literal notranslate"><span class="pre">KP-fcore-ex.hpp</span></code> and <code class="code docutils literal notranslate"><span class="pre">mainKP-fcore-ex.cpp</span></code>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>This example could be made in a single file, to be even simpler. However, we recommend users to have
a clear separation for the header declaration of <em>FCore components</em> (on <code class="code docutils literal notranslate"><span class="pre">KP-fcore-ex.hpp</span></code>)
from the <code class="code docutils literal notranslate"><span class="pre">main()</span></code> entrypoint (on <code class="code docutils literal notranslate"><span class="pre">mainKP-fcore-ex.cpp</span></code>), since unit testing is much simpler when these are decoupled.</p>
</div>
<p><em>KP-fcore-ex.hpp</em></p>
<p><code class="code docutils literal notranslate"><span class="pre">File</span> <span class="pre">'KP-fcore-ex.hpp'</span> <span class="pre">located</span> <span class="pre">in</span> <span class="pre">'demo/02_QuickstartKP_SA/'</span></code></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1">// OptFrame Demo 0-1 Knapsack Problem + Simulated Annealing</span>
<span class="linenos">  2</span><span class="c1">// File: KP-fcore-ex.hpp</span>
<span class="linenos">  3</span><span class="cp">#pragma once</span>
<span class="linenos">  4</span>
<span class="linenos">  5</span><span class="cp">#include</span> <span class="cpf">&lt;OptFCore/FCore.hpp&gt;</span><span class="cp"></span>
<span class="linenos">  6</span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos">  7</span><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="linenos">  8</span>
<span class="linenos">  9</span><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp"></span>
<span class="linenos"> 10</span><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp"></span>
<span class="linenos"> 11</span>
<span class="linenos"> 12</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/Core.hpp&gt;</span><span class="cp"></span>
<span class="linenos"> 13</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/Heuristics/Heuristics.hpp&gt;</span><span class="c1"> // many metaheuristics here...</span><span class="cp"></span>
<span class="linenos"> 14</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/Scanner++/Scanner.hpp&gt;</span><span class="cp"></span>
<span class="linenos"> 15</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/Util/Matrix.hpp&gt;</span><span class="cp"></span>
<span class="linenos"> 16</span><span class="cp">#include</span> <span class="cpf">&lt;OptFrame/printable/printable.hpp&gt;</span><span class="cp"></span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="linenos"> 19</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">optframe</span><span class="p">;</span>
<span class="linenos"> 20</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">scannerpp</span><span class="p">;</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span><span class="c1">// namespace para o problema da mochila</span>
<span class="linenos"> 23</span><span class="c1">// namespace KP_fcore {</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span><span class="c1">// Solução para o problema da mochila, e elemento de avaliação</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="c1">// ================================</span>
<span class="linenos"> 28</span><span class="c1">//    Definição do &#39;ESolution&#39;</span>
<span class="linenos"> 29</span><span class="c1">// Par: (Representação, Avaliação)</span>
<span class="linenos"> 30</span><span class="c1">// ================================</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="k">using</span> <span class="n">ESolutionKP</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span>
<span class="linenos"> 33</span>  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">,</span> <span class="c1">// (representation)</span>
<span class="linenos"> 34</span>  <span class="n">Evaluation</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span>    <span class="c1">// (objective value)</span>
<span class="linenos"> 35</span>  <span class="o">&gt;</span><span class="p">;</span>
<span class="linenos"> 36</span><span class="k">class</span> <span class="nc">ProblemContext</span>
<span class="linenos"> 37</span><span class="p">{</span>
<span class="linenos"> 38</span><span class="k">public</span><span class="o">:</span>
<span class="linenos"> 39</span>   <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>         <span class="c1">// numero de itens</span>
<span class="linenos"> 40</span>   <span class="kt">int</span> <span class="n">Q</span><span class="p">;</span>         <span class="c1">// capacidade máxima da mochila</span>
<span class="linenos"> 41</span>   <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">;</span> <span class="c1">// lucro &#39;p&#39; de cada item</span>
<span class="linenos"> 42</span>   <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">w</span><span class="p">;</span> <span class="c1">// peso &#39;w&#39; de cada item</span>
<span class="linenos"> 43</span>   <span class="c1">//</span>
<span class="linenos"> 44</span>   <span class="c1">// leitor de dados &quot;estilo Java&quot; (Scanner)</span>
<span class="linenos"> 45</span>   <span class="kt">void</span> <span class="nf">load</span><span class="p">(</span><span class="n">Scanner</span><span class="o">&amp;</span> <span class="n">scanner</span><span class="p">)</span>
<span class="linenos"> 46</span>   <span class="p">{</span>
<span class="linenos"> 47</span>      <span class="n">n</span> <span class="o">=</span> <span class="o">*</span><span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// leitura do numero de itens na mochila</span>
<span class="linenos"> 48</span>      <span class="n">Q</span> <span class="o">=</span> <span class="o">*</span><span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// leitura da capacidade da mochila</span>
<span class="linenos"> 49</span>      <span class="n">p</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>     <span class="c1">// realoca espaço</span>
<span class="linenos"> 50</span>      <span class="n">w</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>     <span class="c1">// realoca espaço</span>
<span class="linenos"> 51</span>      <span class="c1">//</span>
<span class="linenos"> 52</span>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;n=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; Q=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">Q</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 53</span>      <span class="c1">//</span>
<span class="linenos"> 54</span>      <span class="c1">// leitura do lucro do item i</span>
<span class="linenos"> 55</span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 56</span>         <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">*</span><span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// &#39;*&#39; é usado pq saída do &#39;nextInt&#39; é &#39;optional&#39;</span>
<span class="linenos"> 57</span>         <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;p[&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="linenos"> 58</span>      <span class="p">}</span>
<span class="linenos"> 59</span>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 60</span>      <span class="c1">//</span>
<span class="linenos"> 61</span>      <span class="c1">// leitura do peso do item i</span>
<span class="linenos"> 62</span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 63</span>         <span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">*</span><span class="n">scanner</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span> <span class="c1">// &#39;*&#39; é usado pq saída do &#39;nextInt&#39; é &#39;optional&#39;</span>
<span class="linenos"> 64</span>         <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;w[&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;]=&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="linenos"> 65</span>      <span class="p">}</span>
<span class="linenos"> 66</span>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="linenos"> 67</span>   <span class="p">}</span>
<span class="linenos"> 68</span><span class="p">};</span>
<span class="linenos"> 69</span><span class="c1">// Instanciar um problema da mochila pKP</span>
<span class="linenos"> 70</span><span class="n">ProblemContext</span> <span class="n">pKP</span><span class="p">;</span>
<span class="linenos"> 71</span>
<span class="linenos"> 72</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span>
<span class="linenos"> 73</span><span class="n">frandom</span><span class="p">()</span>
<span class="linenos"> 74</span><span class="p">{</span>
<span class="linenos"> 75</span>   <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="n">pKP</span><span class="p">.</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span> <span class="c1">// começa sem nenhum item escolhido</span>
<span class="linenos"> 76</span>   <span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="linenos"> 77</span>      <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// sorteia se leva item ou não (resultado 0 ou 1)</span>
<span class="linenos"> 78</span>   <span class="c1">// retorna solução</span>
<span class="linenos"> 79</span>   <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
<span class="linenos"> 80</span><span class="p">}</span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span><span class="c1">// Gerador de solução inicial (método construtivo)</span>
<span class="linenos"> 83</span><span class="n">FConstructive</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">randomConstructive</span><span class="p">{</span> <span class="n">frandom</span> <span class="p">};</span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span><span class="c1">// ===========================</span>
<span class="linenos"> 86</span><span class="c1">//    Função de avaliação</span>
<span class="linenos"> 87</span><span class="c1">// ===========================</span>
<span class="linenos"> 88</span>
<span class="linenos"> 89</span><span class="c1">// função de avaliação da mochila</span>
<span class="linenos"> 90</span><span class="n">Evaluation</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span>
<span class="linenos"> 91</span><span class="n">fevaluate</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">s</span><span class="p">)</span>
<span class="linenos"> 92</span><span class="p">{</span>
<span class="linenos"> 93</span>   <span class="kt">int</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 94</span>   <span class="kt">int</span> <span class="n">somaPeso</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos"> 95</span>   <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">pKP</span><span class="p">.</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="linenos"> 96</span>      <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1">// se elemento foi escolhido</span>
<span class="linenos"> 97</span>      <span class="p">{</span>
<span class="linenos"> 98</span>         <span class="n">f</span> <span class="o">+=</span> <span class="n">pKP</span><span class="p">.</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>        <span class="c1">// acumula lucro do elemento i</span>
<span class="linenos"> 99</span>         <span class="n">somaPeso</span> <span class="o">+=</span> <span class="n">pKP</span><span class="p">.</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="c1">// acumula peso do elemento i</span>
<span class="linenos">100</span>      <span class="p">}</span>
<span class="linenos">101</span>   <span class="c1">// verifica capacidade excedida</span>
<span class="linenos">102</span>   <span class="k">if</span> <span class="p">(</span><span class="n">somaPeso</span> <span class="o">&gt;=</span> <span class="n">pKP</span><span class="p">.</span><span class="n">Q</span><span class="p">)</span>
<span class="linenos">103</span>      <span class="n">f</span> <span class="o">-=</span> <span class="mi">1000000</span> <span class="o">*</span> <span class="p">(</span><span class="n">somaPeso</span> <span class="o">-</span> <span class="n">pKP</span><span class="p">.</span><span class="n">Q</span><span class="p">);</span> <span class="c1">// punição proporcional ao excesso de peso</span>
<span class="linenos">104</span>   <span class="c1">//</span>
<span class="linenos">105</span>   <span class="k">return</span> <span class="n">Evaluation</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">{</span> <span class="n">f</span> <span class="p">};</span>
<span class="linenos">106</span><span class="p">}</span>
<span class="linenos">107</span>
<span class="linenos">108</span><span class="c1">// Evaluate (false -&gt; maximização)</span>
<span class="linenos">109</span><span class="n">FEvaluator</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="p">,</span> <span class="n">MAXIMIZE</span><span class="o">&gt;</span> <span class="n">evalKP</span><span class="p">{</span> <span class="n">fevaluate</span> <span class="p">};</span>
<span class="linenos">110</span><span class="c1">//</span>
<span class="linenos">111</span><span class="k">class</span> <span class="nc">MoveBitFlip</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;</span>
<span class="linenos">112</span><span class="p">{</span>
<span class="linenos">113</span><span class="k">public</span><span class="o">:</span>
<span class="linenos">114</span>   <span class="kt">int</span> <span class="n">k</span><span class="p">;</span> <span class="c1">// MoveBitFlip (moveData = &#39;int&#39; (k))</span>
<span class="linenos">115</span>
<span class="linenos">116</span>   <span class="n">MoveBitFlip</span><span class="p">(</span><span class="kt">int</span> <span class="n">_k</span><span class="p">)</span>
<span class="linenos">117</span>     <span class="o">:</span> <span class="n">k</span><span class="p">{</span> <span class="n">_k</span> <span class="p">}</span>
<span class="linenos">118</span>   <span class="p">{</span>
<span class="linenos">119</span>   <span class="p">}</span>
<span class="linenos">120</span>
<span class="linenos">121</span>   <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span> <span class="n">apply</span><span class="p">(</span><span class="n">ESolutionKP</span><span class="o">&amp;</span> <span class="n">se</span><span class="p">)</span> <span class="k">override</span>
<span class="linenos">122</span>   <span class="p">{</span>
<span class="linenos">123</span>      <span class="n">se</span><span class="p">.</span><span class="n">first</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="o">!</span><span class="n">se</span><span class="p">.</span><span class="n">first</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>                           <span class="c1">// reverts element &#39;k&#39;</span>
<span class="linenos">124</span>      <span class="k">return</span> <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="k">new</span> <span class="n">MoveBitFlip</span><span class="p">{</span> <span class="n">k</span> <span class="p">});</span> <span class="c1">// returns reverse move</span>
<span class="linenos">125</span>   <span class="p">}</span>
<span class="linenos">126</span><span class="p">};</span>
<span class="linenos">127</span>
<span class="linenos">128</span><span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span>
<span class="linenos">129</span><span class="n">makeMoveBitFlip</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">)</span>
<span class="linenos">130</span><span class="p">{</span>
<span class="linenos">131</span>   <span class="k">return</span> <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="k">new</span> <span class="n">MoveBitFlip</span><span class="p">{</span> <span class="n">k</span> <span class="p">});</span>
<span class="linenos">132</span><span class="p">}</span>
<span class="linenos">133</span><span class="c1">// gerador de movimentos aleatórios do tipo BitFlip</span>
<span class="linenos">134</span><span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span>
<span class="linenos">135</span><span class="n">fRandomFlip</span><span class="p">(</span><span class="k">const</span> <span class="n">ESolutionKP</span><span class="o">&amp;</span> <span class="n">se</span><span class="p">)</span>
<span class="linenos">136</span><span class="p">{</span>
<span class="linenos">137</span>   <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="o">::</span><span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="n">pKP</span><span class="p">.</span><span class="n">n</span><span class="p">;</span> <span class="c1">// sorteia um item entre [0..n-1]</span>
<span class="linenos">138</span>   <span class="c1">// cria um &quot;movimento&quot; de flip, na posição k, com operação &#39;fApplyFlip&#39;</span>
<span class="linenos">139</span>   <span class="k">return</span> <span class="n">uptr</span><span class="o">&lt;</span><span class="n">Move</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">makeMoveBitFlip</span><span class="p">(</span><span class="n">k</span><span class="p">));</span>
<span class="linenos">140</span><span class="p">}</span>
<span class="linenos">141</span>
<span class="linenos">142</span><span class="c1">// Estrutura de Vizinhança para BitFlip (NS)</span>
<span class="linenos">143</span><span class="n">FNS</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;</span> <span class="n">nsFlip</span><span class="p">{</span> <span class="n">fRandomFlip</span> <span class="p">};</span>
</pre></div>
</div>
<p><em>mainKP-fcore-ex.cpp</em></p>
<p><code class="code docutils literal notranslate"><span class="pre">File</span> <span class="pre">'mainKP-fcore-ex.cpp'</span> <span class="pre">located</span> <span class="pre">in</span> <span class="pre">'demo/02_QuickstartKP_SA/'</span></code></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// mainKP-fcore-ex.cpp</span>
<span class="linenos"> 2</span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="cp">#include</span> <span class="cpf">&quot;KP-fcore-ex.hpp&quot;</span><span class="c1"> // implementação da mochila</span><span class="cp"></span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1">// import everything on main()</span>
<span class="linenos"> 7</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">optframe</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">scannerpp</span><span class="p">;</span>
<span class="linenos">10</span><span class="c1">//using namespace KP_fcore;</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="kt">int</span>
<span class="linenos">13</span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="linenos">14</span><span class="p">{</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Carregando Problema ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">15</span><span class="c1">// semente pseudo-aleatória fixa em zero</span>
<span class="linenos">16</span><span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">sinstance</span> <span class="o">=</span> <span class="s">&quot;knapsack-example.txt&quot;</span><span class="p">;</span>
<span class="linenos">19</span><span class="n">File</span> <span class="n">f</span><span class="p">{</span> <span class="n">sinstance</span> <span class="p">};</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">f</span><span class="p">.</span><span class="n">isOpen</span><span class="p">())</span> <span class="p">{</span>
<span class="linenos">22</span>   <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Problema &#39;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">sinstance</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;&#39; não encontrado no diretório!&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">23</span>   <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="linenos">24</span><span class="p">}</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="n">Scanner</span> <span class="n">scanner</span><span class="p">{</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">};</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="n">pKP</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">scanner</span><span class="p">);</span>
<span class="linenos">29</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;número de elementos na mochila:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">pKP</span><span class="p">.</span><span class="n">n</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Testa Construtivo Aleatório ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">32</span><span class="c1">// invoca método &#39;generateSolution&#39; do FCore &#39;FConstructive&#39; para construtivo aleatório</span>
<span class="linenos">33</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">sol</span> <span class="o">=</span> <span class="o">*</span><span class="n">randomConstructive</span><span class="p">.</span><span class="n">generateSolution</span><span class="p">(</span><span class="mf">0.0</span><span class="p">);</span>
<span class="linenos">34</span><span class="c1">// imprime solução inicial</span>
<span class="linenos">35</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sol</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">36</span><span class="c1">//</span>
<span class="linenos">37</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Testa Avaliador ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">38</span><span class="c1">// avalia solução inicial e cria um par &#39;ESolution&#39;</span>
<span class="linenos">39</span><span class="n">ESolutionKP</span> <span class="n">esol</span><span class="p">(</span><span class="n">sol</span><span class="p">,</span> <span class="n">evalKP</span><span class="p">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">sol</span><span class="p">));</span>
<span class="linenos">40</span><span class="c1">// imprime avaliação da solução inicial</span>
<span class="linenos">41</span><span class="n">esol</span><span class="p">.</span><span class="n">second</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
<span class="linenos">42</span>
<span class="linenos">43</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Executa Simulated Annealing ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">44</span><span class="c1">// Especifica um gerador aleatório para o Simulated Annealing</span>
<span class="linenos">45</span><span class="n">RandGen</span> <span class="n">rg</span><span class="p">;</span>
<span class="linenos">46</span><span class="c1">//</span>
<span class="linenos">47</span><span class="c1">// Cria objeto da classe &#39;InitialSearch&#39; (parecido com &#39;construtivoAleatório&#39;)</span>
<span class="linenos">48</span><span class="n">BasicInitialSearch</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;</span> <span class="n">initRand</span><span class="p">(</span><span class="n">randomConstructive</span><span class="p">,</span> <span class="n">evalKP</span><span class="p">);</span>
<span class="linenos">49</span><span class="c1">// Instancia um Simulated Annealing com alpha=98%, iterações na temp = 100, temperatura inicial = 99999</span>
<span class="linenos">50</span><span class="n">BasicSimulatedAnnealing</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">&gt;</span> <span class="n">sa</span><span class="p">{</span>
<span class="linenos">51</span>   <span class="n">evalKP</span><span class="p">,</span>
<span class="linenos">52</span>   <span class="n">initRand</span><span class="p">,</span>
<span class="linenos">53</span>   <span class="n">nsFlip</span><span class="p">,</span>
<span class="linenos">54</span>   <span class="mf">0.98</span><span class="p">,</span>
<span class="linenos">55</span>   <span class="mi">100</span><span class="p">,</span>
<span class="linenos">56</span>   <span class="mi">99999</span><span class="p">,</span>
<span class="linenos">57</span>   <span class="n">rg</span>
<span class="linenos">58</span><span class="p">};</span>
<span class="linenos">59</span><span class="c1">// executa o SA e coleta o &#39;status&#39; de saída</span>
<span class="linenos">60</span><span class="c1">// passa um &#39;Criterio de Parada&#39; por tempo (= 10 segundos)</span>
<span class="linenos">61</span><span class="k">auto</span> <span class="n">searchOut</span> <span class="o">=</span> <span class="n">sa</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">StopCriteria</span><span class="o">&lt;</span><span class="n">ESolutionKP</span><span class="o">::</span><span class="n">second_type</span><span class="o">&gt;</span><span class="p">{</span> <span class="mf">10.0</span> <span class="p">});</span> <span class="c1">// 10.0 seconds max</span>
<span class="linenos">62</span><span class="c1">// pega melhor solução do método SA</span>
<span class="linenos">63</span><span class="n">ESolutionKP</span> <span class="n">melhor</span> <span class="o">=</span> <span class="o">*</span><span class="n">searchOut</span><span class="p">.</span><span class="n">best</span><span class="p">;</span> <span class="c1">//*sa.getBestSolution();</span>
<span class="linenos">64</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Imprime melhor solução do SA ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">65</span><span class="c1">// imprime representação da melhor solução</span>
<span class="linenos">66</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">melhor</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="linenos">67</span><span class="c1">// imprime avaliação da melhor solução</span>
<span class="linenos">68</span><span class="n">melhor</span><span class="p">.</span><span class="n">second</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
<span class="linenos">69</span>
<span class="linenos">70</span>
<span class="linenos">71</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;======== Fim da Execução ========&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">72</span><span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos">73</span><span class="p">}</span> <span class="c1">// main</span>
</pre></div>
</div>
<p><em>knapsack-example.txt</em></p>
<p><code class="code docutils literal notranslate"><span class="pre">File</span> <span class="pre">'knapsack-example.txt'</span> <span class="pre">located</span> <span class="pre">in</span> <span class="pre">'demo/02_QuickstartKP_SA/'</span></code></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="mi">5</span>
<span class="linenos">2</span><span class="mi">10</span>
<span class="linenos">3</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">5</span> <span class="mi">5</span>
<span class="linenos">4</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">7</span> <span class="mi">8</span>
</pre></div>
</div>
<p>To compile it (generates binary <cite>app_KP</cite>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">++</span> <span class="o">-</span><span class="n">g</span> <span class="o">-</span><span class="n">O3</span> <span class="o">--</span><span class="n">std</span><span class="o">=</span><span class="n">c</span><span class="o">++</span><span class="mi">17</span> <span class="o">-</span><span class="n">fconcepts</span> <span class="o">-</span><span class="n">I</span><span class="o">../../</span><span class="n">include</span>  <span class="n">mainKP</span><span class="o">-</span><span class="n">fcore</span><span class="o">-</span><span class="n">ex</span><span class="o">.</span><span class="n">cpp</span> <span class="o">-</span><span class="n">o</span> <span class="n">app_KP</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="quickstart_continued.html" class="btn btn-neutral float-right" title="Quick start (Continued)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2021, OptFrame Core Developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>